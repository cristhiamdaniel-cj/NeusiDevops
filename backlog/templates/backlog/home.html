{% extends "base.html" %}
{% load static %}

{% block extra_css %}
<link rel="stylesheet" href="{% static 'backlog/home.css' %}">
{% endblock %}

{% block content %}

<div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 30px;">
  <h2>ğŸ  Bienvenido a NEUSI Task Manager</h2>

  {% if request.user.is_authenticated %}
  <div style="text-align: right;">
    <span style="margin-right: 15px;">ğŸ‘¤ Hola, {{ request.user.first_name|default:request.user.username }}</span>
    <a href="{% url 'logout' %}" style="background:#dc3545; color:white; padding:8px 16px; text-decoration:none; border-radius:5px; font-weight:bold;">
      ğŸšª Cerrar SesiÃ³n
    </a>
  </div>
  {% endif %}
</div>

<p>Selecciona a dÃ³nde quieres ir:</p>

<nav style="margin-top:20px;">
  <a href="{% url 'backlog_lista' %}" style="background:#007bff; color:white; padding:15px 25px; margin-right:15px; text-decoration:none; border-radius:5px; font-weight:bold;">
    ğŸ“‹ Backlog
  </a>
  <a href="{% url 'backlog_matriz' %}" style="background:#28a745; color:white; padding:15px 25px; margin-right:15px; text-decoration:none; border-radius:5px; font-weight:bold;">
    ğŸ“Š Matriz
  </a>
  <a href="{% url 'kanban_board' %}" style="background:#6f42c1; color:white; padding:15px 25px; margin-right:15px; text-decoration:none; border-radius:5px; font-weight:bold;">
    ğŸ¯ Kanban
  </a>

  <a href="{% url 'daily_personal' %}" style="background:#17a2b8; color:white; padding:15px 25px; margin-right:15px; text-decoration:none; border-radius:5px; font-weight:bold;">
    ğŸ“… Daily
  </a>

  <a href="{% url 'disponibilidad:mi_disponibilidad' %}" style="background:#795548; color:white; padding:15px 25px; text-decoration:none; border-radius:5px; font-weight:bold;">
    ğŸ“… Disponibilidad
  </a>
</nav>

{% if request.user.is_authenticated and request.user.integrante %}
  <div style="margin-top: 30px; padding: 20px; background: #f8f9fa; border-radius: 8px;">
    <h3>ğŸš€ Acceso RÃ¡pido</h3>
    <p>Accede directamente a tus herramientas:</p>

    <a href="{% url 'daily_personal' %}" style="background:#ffc107; color:#000; padding:10px 20px; text-decoration:none; border-radius:5px; font-weight:bold;">
      ğŸ“… Mi Daily de Hoy
    </a>

    <a href="{% url 'kanban_board' %}" style="background:#6f42c1; color:white; padding:10px 20px; margin-left:15px; text-decoration:none; border-radius:5px; font-weight:bold;">
      ğŸ¯ Kanban de Mis Tareas
    </a>

    <a href="{% url 'disponibilidad:mi_disponibilidad' %}" style="background:#795548; color:white; padding:10px 20px; margin-left:15px; text-decoration:none; border-radius:5px; font-weight:bold;">
      â° Mi Horario Semanal
    </a>

    {% if tiene_permisos_admin %}
      <div style="margin-top: 15px; padding: 15px; background: #d4edda; border-radius: 5px; border: 1px solid #c3e6cb;">
        <h4 style="color: #155724;">âœ… Permisos Administrativos</h4>
        <p style="color: #155724; margin: 5px 0;">Como <strong>{{ request.user.integrante.rol }}</strong>, tienes acceso completo:</p>
        <ul style="color: #155724; margin: 5px 0;">
          <li>ğŸ‘¥ Ver tareas de TODOS los miembros del equipo</li>
          <li>ğŸ” Usar filtros por persona</li>
          <li>â• Crear nuevas tareas</li>
          <li>ğŸ“ Agregar evidencias</li>
          <li>ğŸ“Š Acceso a matriz y reportes</li>
          <li>ğŸ¯ Gestionar el Kanban de todo el equipo</li>
          <li>ğŸ“ Ver todos los dailies del equipo</li>
          <li>ğŸ“… <a href="{% url 'disponibilidad:equipo_disponibilidad' %}" style="color: #155724; text-decoration: underline;">Ver disponibilidad del equipo</a></li>
        </ul>
      </div>
    {% else %}
      <div style="margin-top: 15px; padding: 15px; background: #fff3cd; border-radius: 5px; border: 1px solid #ffeaa7;">
        <h4 style="color: #856404;">â„¹ï¸ Vista Personal</h4>
        <ul style="color: #856404; margin: 5px 0;">
          <li>ğŸ‘€ Ver Ãºnicamente tus tareas</li>
          <li>ğŸ¯ Mover tus tareas en Kanban</li>
          <li>ğŸ“ Registrar tu daily personal</li>
          <li>âœ… Cerrar tus tareas</li>
          <li>ğŸ“Š Ver tu matriz personal</li>
          <li>â° Configurar tu disponibilidad semanal</li>
          <li>ğŸ‘¥ Ver disponibilidad general del equipo</li>
        </ul>
        <p style="color: #856404; margin-top: 10px; font-size: 0.9em;">
          <strong>ğŸ’¡ Nota:</strong> Para ver tareas del equipo o crear tareas, contacta a <strong>Daniel Campos</strong> o <strong>AndrÃ©s GÃ³mez</strong>.
        </p>
      </div>
    {% endif %}
  </div>
{% endif %}

{% endblock %}
